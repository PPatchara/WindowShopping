<!DOCTYPE html>
<html>
<head>
	<title>Client | Socket TCP</title>
	<script type="text/javascript" src="jquery.min.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<h1>Welcome to Window Shop</h1>

	<div>
		<img src="model.png" class="model" width="300px" height="900px" />
		<img src="box.png" class="box" width="220px" height="120px" />

		<img data-id="1" id="cloth" class="object cloth" data-in="hover_dress.png" data-out="dress.png" src="dress.png" width="500px" height="550px" />
		<img data-id="2" id="shoe" class="object shoe" data-in="hover_shoe.png"  data-out="shoe.png" src="shoe.png" width="200px" height="100px" />
	</div>
	
	<script type="text/javascript">

	var ws = new WebSocket("ws://localhost:8887/pos");

	function send_productState(hover_state,state) {
		ws.send("s_state," + hover_state + "," + state);
	}

	// function change_image(product){
	// 	if(product == 1){
	// 		$(this).attr('src','hover_dress.png');
	// 	}else if(product == 2){
	// 		$(this).attr('src','hover_shoe.png');
	// 	}
	// }

	// $("#cloth").hover(function() {
	// 	$(this).attr('src',$(this)'hover_dress.png');
	// }, function() {
 //  		$(this).attr('src', 'dress.png');
	// });

	// $("#shoe").hover(function() {
	// 	$(this).attr('src','hover_shoe.png');
	// }, function() {
 //  		$(this).attr('src', 'shoe.png');
	// });

	$(document).click(function(event) {
		console.log("Tapped target: " + event.target.id);
	});

	$("img.object").hover(function() {
		$(this).attr('src',$(this).data('in'));
		var id = $(this).data("id");
		var hover_state = "in";

		send_productState(hover_state,id);
		console.log("in: "+ id);

	}, function() {
		$(this).attr('src',$(this).data('out'));
		var id = $(this).data("id");
		var hover_state = "out";
		send_productState(hover_state,id);

  		console.log("out");
	});

	</script>
</body>
</html>